# バンディット×ベイズ戦略 (Bandit x Bayes Strategy) 仕様書

## 1. プロジェクト概要

### コア・フィロソフィー: 「自分だけの『楽』な勝ち筋を見つける」
本アプリケーションは、単なるタスク管理ツールではありません。**Multi-Armed Bandit (多腕バンディット) 問題** と **ベイズ統計** を活用し、**「ユーザー自身の価値観」と「独自の強み」に基づいた最適な副業（Arm）** を見つけ出すための意思決定支援ツールです。

本業で満たされない「承認欲求」「創造性」「自由」といった感情を副業で満たそうとするべきです。「稼げそう」という動機だけでアイデアを選んでしまうと、精神的な充足は得られず、いずれ挫折してしまいます。

本ツールは、以下のプロセスを通じてユーザーを導きます：
1.  **価値観に基づく選定**: 単なる収益性だけでなく、「精神的な充足度」や「本業での欠落感の補完」といった多角的な指標でアイデアを評価します。
2.  **「楽」の定義**: ここで言う「楽」とは、「サボること」ではなく、「**他人には難しいが、君にとっては難なくこなせること（高付加価値な独自スキル）**」を指します。
3.  **無駄な試行錯誤の排除**: 自分にとって「楽」に成果が出せる領域を見極め、そこにリソースを集中投下（Exploit）することで、最短距離での成功を支援します。

つまり、**「データ（ベイズ統計）」と「科学的な情報に基づいた自己理解」を融合**させ、迷いなくリソースを注げる「自分だけの正解」を探索・活用するためのシステムです。

## 2. システム構成
- **プラットフォーム**: Webブラウザ (SPA風インターフェース)
- **開発言語**:
  - HTML5
  - CSS3 (Vanilla CSS, CSS Variables, Flexbox/Grid)
  - JavaScript (Vanilla JS, ES6+)
- **外部ライブラリ**:
  - [Chart.js](https://www.chartjs.org/): データの可視化（折れ線グラフ）
  - [Font Awesome](https://fontawesome.com/): アイコン表示
  - [Google Fonts](https://fonts.google.com/): タイポグラフィ (Inter, Noto Sans JP)
- **データ保存**: ブラウザの **LocalStorage** を使用（サーバーサイドDBレス）
- **デプロイ環境**: Google App Engine (Standard Environment)

## 3. 機能要件

### 3.1. 戦略マップ (Strategic Map)
アイデアを「効果(Impact)」と「工数(Cost)」の2軸で評価し、優先順位を可視化する機能です。

- **入力機能**:
  - タイトル、メモの入力
  - 効果 (1-5段階評価)
  - 工数 (1-5段階評価)
- **マトリクス表示**:
  - 4象限への自動プロット
    - 高効果/低工数 (即実行)
    - 高効果/高工数 (計画的)
    - 低効果/低工数 (後回し)
    - 低効果/高工数 (除外候補)
  - ピン留めによる可視化（ホバーで詳細表示）
- **リスト表示**:
  - 優先度順にタスクをリスト表示

### 3.2. 仮説検証 (Hypothesis Verification) - MABボード
Multi-Armed Bandit アルゴリズムに基づき、複数の施策（アーム）を並行して検証管理する機能です。

- **アーム作成 (Step 1)**:
  - 課題 (Problem/Theme) の設定
  - 具体的なアイデア (Arm) の入力
  - 検証仮説 (「もし～すれば、～になるだろう」形式) の記述
- **MABポートフォリオ (Step 2 & 3)**:
  - 仮説カードのリスト表示
  - **ステータス管理**:
    - Not Started
    - Trial (試行)
    - Focus (注力)
    - Sustain (維持)
    - Drop (中断)
    - Completed (完了)
  - **リソース配分 (Allocation)**:
    - スライダーによるリソース配分率 (%) の調整
    - 全体のリソース合計値の可視化 (ゲージ表示)
  - **期限管理**:
    - 開始日・終了日の設定
    - **期限切れアラート**: 終了日を過ぎた未完了タスクに赤字で `Expired` バッジを表示

### 3.3. 自信度分析 (Confidence Analysis) & 進捗ログ
実施した実験の結果を記録し、振り返るための機能です。

- **実験ログ記録 (Step 1)**:
  - アイデア名、実験名、期間、指標値の入力
  - デフォルト指標: **リーチ (Reach)**, **反応 (Reaction)**, **成果 (Result)**
  - 指標のカスタマイズ（追加・削除）が可能
- **クイックログ・チャットビュー (Quick Log)**:
  - フローティングアクションボタン (FAB) からアクセス可能
  - 選択した仮説ごとのチャット形式ログ表示
  - **進捗可視化グラフ**:
    - **Chart.js** による折れ線グラフ描画
    - 指標 (Reach, Reaction, Result) ごとの推移表示
    - **累積表示 (Cumulative)**: 日ごとの入力値を積み上げ（加算）方式で表示
    - チェックボックスによる表示/非表示の切り替え
  - タイムライン形式でのログ履歴表示・編集機能

### 3.4. 明確化シート (Clarification Sheet)
タスクの具体化を支援するボトムシート機能です。

- **Step 1: 発散 (Diverge)**:
  - アイデアの書き出し（最低20個推奨）
  - 一括入力機能
- **Step 2: 収束 (Converge)**:
  - 上位5つの有望なアイデアを選定
  - 選定したアイデアを「仮説検証」タブへ転送（アーム化）

### 3.5. データ管理
- **Import/Export**: JSON形式でのデータの書き出し・読み込み（ヘッダーアイコンより）
- **Reset**: 全データの初期化機能

## 4. UI/UX デザイン仕様
- **カラーパレット**:
  - Primary: `#5b5bf5` (Indigo系)
  - Warning: `#eab308` (Yellow系)
  - Danger: `#ef4444` (Red系)
  - Background: `#f8faff` (Light Blue系)
- **デザインスタイル**:
  - **Glassmorphism**: ヘッダー等にすりガラスのような透過効果を採用
  - **Card UI**: 情報のまとまりをカード形式で表現
  - **Dark Mode Chart**: グラフエリアは視認性を高めるためダークテーマを採用
- **レスポンシブ対応**:
  - モバイル端末での表示を最適化（Flexbox/Gridによるレイアウト調整）
  - タッチ操作に配慮したUIパーツ（スライダー、FAB等）

## 5. フォルダ・ファイル構成
```
/
├── app.yaml          # Google App Engine 設定ファイル
├── index.html        # メインアプリケーション構造
├── style.css         # スタイル定義
├── script.js         # アプリケーションロジック
└── .gcloudignore     # デプロイ除外設定
```

## 6. 今後の拡張性 (Future Works)
- サーバーサイド連携による複数デバイス間のデータ同期
- ベイズ更新ロジックの厳密化と確率分布の可視化
- 通知機能 (期限切れやリマインダーのプッシュ通知)
